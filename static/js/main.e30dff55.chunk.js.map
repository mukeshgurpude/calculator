{"version":3,"sources":["components/button.jsx","App.js","logo.svg","components/display.jsx","components/error_block.jsx","reportWebVitals.js","index.js"],"names":["button","props","state","element","kwargs","x","clear","a","add","e","evaluate","last","q","process","bind","addlisteners","listener","this","DOMelement","document","getElementById","id","window","removeEventListener","addEventListener","b","key","alterKey","click","console","count","classes","double","className","onClick","text","React","Component","NumberKey","p","OperatorKey","buttons","keyCode","isNumber","shiftKey","App","expression","lastOp","error","showError","clearDisplay","addToDisplay","displayError","hideError","setState","ch","inte","String","replace","c","slice","isNaN","length","concat","match","includes","result","nonSafe","Error","eval","err","warn","message","m","setTimeout","_","src","logo","alt","width","height","map","display","remove","Display","CalcError","style","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e30dff55.chunk.js","sourcesContent":["import React from 'react'\nimport './key.css'\n\nclass button extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {};\n        this.element = props.kwargs;\n        this.x = props.clear;\n        this.a = props.add;\n        this.e = props.evaluate;\n        this.state = {last: props.q};\n        this.process = this.process.bind(this)\n        this.addlisteners = this.addlisteners.bind(this);\n        this.listener = this.listener.bind(this)\n    }\n\n    componentDidMount(){\n        this.DOMelement = document.getElementById(this.element.id);\n        this.addlisteners();\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener('keydown', this.listener)\n    }\n\n    addlisteners(){\n        window.addEventListener('keydown', this.listener)\n    }\n\n    listener(e){\n        const a = this.DOMelement;\n        const b = this.element;\n        if(b.key === e.key || b.alterKey === e.key){a.click()};\n    }\n\n    process(){\n        console.count('Default')\n    }\n\n    render (){\n        const classes = `calc-key ${this.element.double?'double':''}`;\n        return <>\n            <button className={classes} id={this.element.id} onClick={this.process}>{this.element.text}</button>\n        </>\n    }\n}\n\nexport class NumberKey extends button{\n    constructor(props){\n        super(props);\n        this.p = \"\";\n    }\n    process(e){\n        this.a(this.element.text);\n    }\n}\n\nexport class OperatorKey extends button{\n    constructor(props){\n        super(props);\n        this.p = props;\n    }\n    process(){\n        switch(this.element.key){\n            case 'Backspace':\n                this.x();\n                break;\n            case '=':\n                this.e()\n                break;\n            default:\n                // this.a(this.element.text, this.state.last);\n                this.a(this.element.key, this.state.last);\n       }\n    }\n}\n\nexport default NumberKey;\n","import logo from './logo.svg';\nimport React from 'react'\n// import './App.css';\nimport {NumberKey, OperatorKey} from \"./components/button\"\nimport Display from './components/display'\nimport CalcError from './components/error_block'\n\nconst buttons = [\n    { text: 7,\n      keyCode: [103],\n      double: false,\n      id: 'seven',\n      isNumber: true,\n      key: '7'\n    },\n    { text: 8,\n      keyCode: [104],\n      double: false,\n      id: 'eight',\n      isNumber: true,\n      key: '8'\n    },\n    { text: 9,\n      keyCode: [105],\n      double: false,\n      id: 'nine',\n      isNumber: true,\n      key: '9'\n    },\n    { text: 'AC',\n      keyCode: [8],\n      double: true,\n      id: 'clear',\n      isNumber: false,\n      key: 'Backspace'\n    },\n    { text: 4,\n      keyCode: [100],\n      double: false,\n      id: 'four',\n      isNumber: true,\n      key: '4'\n    },\n    { text: 5,\n      keyCode: [101],\n      double: false,\n      id: 'five',\n      isNumber: true,\n      key: '5'\n    },\n    { text: 6,\n      keyCode: [102],\n      double: false,\n      id: 'six',\n      isNumber: true,\n      key: '6'\n    },\n    { text: '÷',\n      keyCode: [111],\n      shiftKey: 191,\n      double: false,\n      id: 'divide',\n      isNumber: false,\n      key: '/'\n    },\n    { text: 'x',\n      keyCode: [106],\n      shiftKey: 56,\n      double: false,\n      id: 'multiply',\n      isNumber: false,\n      key: '*'\n    },\n    { text: 1,\n      keyCode: [97],\n      double: false,\n      id: 'one',\n      isNumber: true,\n      key: '1'\n    },\n    { text: 2,\n      keyCode: [98],\n      double: false,\n      id: 'two',\n      isNumber: true,\n      key: '2'\n    },\n    { text: 3,\n      keyCode: [99],\n      double: false,\n      id: 'three',\n      isNumber: true,\n      key: '3'\n    },\n    { text: '+',\n      keyCode: [107],\n      shiftKey: 187,\n      double: false,\n      id: 'add',\n      isNumber: false,\n      key: '+'\n    },\n    { text: '-',\n      keyCode: [109, 189],\n      double: false,\n      id: 'subtract',\n      isNumber: false,\n      key: '-'\n    },\n    { text: 0,\n      keyCode: [96],\n      double: false,\n      id: 'zero',\n      isNumber: true,\n      key: '0'\n    },\n    { text: '.',\n      keyCode: [110, 190],\n      double: false,\n      id: 'decimal',\n      isNumber: true,\n      key: '.'\n    },\n    { text: '^',\n      shiftKey: [54],\n      double: false,\n      id: 'power',\n      isNumber: false,\n      key: '^'\n    },\n    { text: '=',\n      keyCode: [187, 13],\n      double: true,\n      id: 'equals',\n      isNumber: false,\n      key: '=',\n      alterKey: 'Enter'\n    }\n  ];\n\n/*\nLayout:\n\n|-------------------|\n| Header |          |\n| Header | Display  |\n| Header |          |\n|-------------------|\n| 7 | 8 | 9 |  AC   |\n| 4 | 5 | 6 | ÷ | x |\n| 1 | 2 | 3 | + | - |\n| . | 0 | ^ |   =   |\n|-------------------|\n\n*/\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n        expression: \"0\",\n        lastOp: false,\n        error: null,\n        showError: false\n    };\n\n    this.clearDisplay = this.clearDisplay.bind(this);\n    this.addToDisplay = this.addToDisplay.bind(this);\n    this.evaluate = this.evaluate.bind(this);\n    this.displayError = this.displayError.bind(this);\n    this.hideError = this.hideError.bind(this);\n  }\n\n  clearDisplay(){\n    this.setState(state=>({\n      ...state,\n      expression: '0',\n      lastOp: false\n    }))\n  }\n\n  addToDisplay(ch, replace=false){\n\n    const inte = (a, b) =>{\n      a = String(a);\n      a = a.replace(/^0*/, '');\n      b = String(b);\n      const last = /[\\d.]+$/\n      const c = String(this.state.expression).slice(-2);\n\n\n      if(this.state.lastOp && isNaN(b)){\n        if(c.length === 2 && isNaN(c[0])){\n          const p = a.slice(0, -2) || '';\n          // if(a[-1]) p.concat(a.slice(-1))\n          // return p.concat(b).concat(a.slice(-1));\n          return p.concat(b);\n        }\n        if(b === '-') return a.concat(b)\n        return a.slice(0, -1).concat(b)\n      }\n      \n      if(a.match(last) && a.match(last)[0].includes('.') && ch ==='.') return a;\n      if (!isNaN(b)) return a.concat(b)\n      return a.concat(b)\n    }\n    \n    this.setState(state=>({\n      ...state,\n      expression: inte(state.expression, ch),\n      lastOp: '+-x÷'.includes(ch)\n    }))\n  }\n\n  evaluate(){\n    let result;\n    try{\n      const nonSafe = /[a-wyz;]/;\n      if(String(this.state.expression).match(nonSafe)){\n        throw new Error('Dangerous input, kindly check your input..');\n      }\n      // eslint-disable-next-line\n      result = eval(String(this.state.expression).replace('x', '*').replace('÷', '/').replace('^', '**'));\n    }catch(err){\n      console.warn(err)\n      result = this.state.expression;\n      this.displayError(err.message);\n    }\n\n    this.setState(state=>({\n      ...state,\n      expression: result\n    }))\n\n  }\n\n  // Extension\n  displayError(m){\n    this.setState(state=>({\n      ...state,\n      error: m,\n      showError: true\n    }))\n\n    setTimeout(_=>{\n      this.setState(state=>({...state, error: null, showError: false}))\n    }, 5000);\n  }\n\n  hideError(){\n    this.setState(state=>({...state, error: null, showError: false}))\n  }\n\n  render() {\n    return (\n      <>\n      <header className=\"display__wrapper\">\n        <div><img src={logo} alt=\"Calculator-logo\" width=\"auto\" height=\"auto\"/></div>\n        <Display text={this.state.expression} add={this.addToDisplay}/>\n      </header>\n      <div id=\"keys\">\n        {\n          buttons.map(button=>{\n            if(button.isNumber) return <NumberKey kwargs={button} key={button.id} add={this.addToDisplay}/>\n            return <OperatorKey kwargs={button} key={button.id} clear={this.clearDisplay} add={this.addToDisplay} evaluate={this.evaluate} q={this.state.lastOp}/>\n          })\n        }\n      </div>\n      <CalcError e={this.state.error} display={this.state.showError} remove={this.hideError}></CalcError>\n      </>\n    );\n  }\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\nimport './display.css'\n\nclass Display extends React.Component{\n    constructor(props){\n        super(props);\n        this.props = props;\n    }\n\n    render(){\n        return <>\n            <div id=\"display\">{this.props.text}</div>\n        </>\n    }\n}\n\nexport default Display;\n","import React from 'react'\nimport './error.css'\n\nclass CalcError extends React.Component{\n    constructor(props){\n        super(props);\n        this.props = props;\n    }\n    render(){\n        return <>\n                <div id=\"error_block\" style={{display: this.props.display?'flex':'none'}}>\n                    <p>{this.props.e}</p>\n                    <span className=\"close\" onClick={this.props.remove}>×</span>\n                </div>\n            </>\n    }\n}\n\nexport default CalcError;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('calculator')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}